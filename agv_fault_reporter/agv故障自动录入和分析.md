[toc]
***

# 背景

1. 我是一名日常使用c/c++进行开发的软件工程师，也会用python, Lua (如果有需要可以快速学习它们)

2. 我们组开发的 AGV 目前在工厂投入生成，但是 AGV 在运行过程中可能会发生一些问题，当前遇到问题时，现场的测试维护人员会上报故障信息，然后发到工作群，周末的时候组长会根据这一周的故障信息，统计汇总故障。

上报的故障信息如下：

【1】
发现人员：曾海彬
时间：2025年10月29日19：14
车辆信息：2号车
报警描述：2号车充电失败
解决办法：抱闸手推到充电桩上充电
责任人： @李聪平 

【2】
发现人员：张远辉
时间：2025年10月29日18:10
车辆信息:11号车
报警描述：移动任务执行失败
解决办法：无
责任人： @梁海聪 

【3】
发现人员：张远辉
时间：2025年10月29日15:25
车辆信息:5号车
报警描述：5号车送后盖上料，举升后一直报避障，不走车
解决办法：无
责任人： @测试

【4】
发现人员：曾海彬
时间：2025年10月29日15：53
车辆信息：6号车
报警描述：工厂反馈说6号车在跑任务的时候不知道为啥停了一段时间才跑
解决办法：
责任人： @梁海聪 

# 需求

为了减轻手动统计 AGV 故障周报的工作量，我们计划开发一个web服务，现场的测试维护人员在上报故障信息时，在web服务界面提交，无需再发布到工作群。该web服务支持：

1. 自动统计指定周期范围内的故障信息
2. 支持按照 "车号"，"发现人员"，"责任人"， "错误类别" (或者报警描述) 分类统计故障信息
3. 支持下载统计结果
4. 暂时不使用容器(例如，docker), 程序直接安装在服务器上
5. 开发难度尽可能的小，例如，存储是否可以用文件 or sqlite? 或者你认为的更好的方式。

# 服务器设备

阿里云主机：
120.24.252.217


***

感谢你的答复，我们继续，我希望你从搭建环境开始。

我的ali云主机是 gnu/linux，是不是不能用 sudo apt-get update 命令?
[root@iZwz94tcjhna03j7ppo2q6Z agv-fault-reporter]# uname -a
Linux iZwz94tcjhna03j7ppo2q6Z 5.10.134-15.al8.x86_64 #1 SMP Thu Jul 20 00:44:04 CST 2023 x86_64 x86_64 x86_64 GNU/Linux

# 服务部署

1. 更新系统软件包
```sh
dnf update
```
or
```sh
yum update
```

2. 安装python和pip3
```sh
dnf install python3 python3-pip
```
or
```sh
yum install python3 python3-pip
```

3. 3. 安装 Flask 和 Gunicorn
这部分指令不变，因为 pip 是 Python 的包管理器，与操作系统无关：
```sh
pip3 install Flask
pip3 install gunicorn
```

4. 初始化数据库

在服务器上进入项目目录，运行 python3，然后执行：
```sh
from app import init_db
init_db()
exit()
```

5. 后台运行程序
```sh
在项目目录下运行
gunicorn --workers 3 --bind 0.0.0.0:5000 app:app --daemon
```
这会在后台启动 3个工作进程，监听 5000 端口。--daemon 参数让它在后台运行。
现在，你的服务就在 http://120.24.252.217:5000 上运行了！你的团队成员可以通过这个地址访问并提交故障报告。


# 工具

1. 一次杀掉多个进程
```sh
kill $(pgrep gunicorn)
```

/*
修改 schema.sql 文件:

1. 添加 "错误类别" 字段:
    关于 "错误类别" (category): 这是实现分类统计的关键。初期可以让用户从一个预设的下拉列表中选择，例如：

    充电失败
    任务执行失败
    避障异常
    定位丢失
    机械故障
    其他

2. 给所有的字段 加上注释，以便更好地理解每个字段的用途。
*/


我在浏览器访问服务时报错了：http://120.24.252.217:5000/，报错信息如下：

Internal Server Error
The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.

如何调试后台服务？
```sh
# 1. 杀掉 gunicorn 服务
pkill gunicorn

# 2. 在前台以调试模式启动应用
# 进入你的项目目录，然后使用 python3.9 直接运行 app.py 文件。
python3 app.py

# 3. 现在，保持 SSH 窗口不要关闭，回到你的浏览器，再次访问 http://120.24.252.217:5000/。

# 4. 查看终端日志
```
--- 

---

好的，我继续问你问题，如图片中显示的【最近上报记录】为例，每条数据之间没有分隔符，看起来不美观，能否设置所有字段的显示左对齐？
-  创建并编辑 static/style.css 文件

很好，我继续问你问题：

1. 在数据库表中新增一个 【解决状态】字段，该字段的可能取值为 【已修复，待修复，处理中】
2. 在数据表中新增一个 【处理记录】字段，该字段，用于记录故障的处置过程，例如：RCS 版本问题，已更新，待观察
3. 在web界面显示 【最近上报记录】时，对于每条记录，第一个字段显示序号，显示新增的 【解决状态】和 【处理记录】字段

--- 

commit:
临时提交，这是一个完整可用的服务。包含改动：

1. 在数据库表中新增一个 【解决状态】字段，该字段的可能取值为 【已修复，待修复，处理中】
    - 在数据表中新增一个 【处理记录】字段，该字段，用于记录故障的处置过程，例如：RCS 版本问题，已更新，待观察
    - 在web界面显示 【最近上报记录】时，对于每条记录，第一个字段显示序号，显示新增的 【解决状态】和 【处理记录】字段

2. 编辑数据时，【处理记录】中的换行符在显示时能保留，通过 CSS的 white-space 属性来达到
---

很好，我继续问你问题：

1. 我在 【最近上报记录】中选中一条记录编辑时，处理记录传的参数是：Form item: "resolution_log" = "哈哈，处理完成了\r\n呜呜，问题又出现了"
2. 编辑完成后，再次获取最近上报记录时，处理记录显示的是: 【哈哈，处理完成了 呜呜，问题又出现了】中间的 \r\n 不见了，这是为什么？

---

很好，我继续问你问题：

1. 组长说在 【AGV 故障上报】页面一个一个字段填写可能有点慢，希望现场测试维护人员直接一次输入整个故障信息，然后点击提交，服务程序能从故障信息中解析出各个字段，例如：故障信息如下：
    ```
    发现人员：曾海彬
    时间：2025年10月29日15：53
    车辆信息：6号车
    报警描述：工厂反馈说6号车在跑任务的时候不知道为啥停了一段时间才跑
    解决办法：
    责任人： @梁海聪
    ```
    注意，故障信息中，没有错误类别字段，因此我们需要根据其他信息来生成，生成规则如下：
    1. 如果【报警描述】中包含 "充电"，此时生成的【错误类别】为 "充电失败"
    2. 如果【报警描述】中包含 "避障"，此时生成的【错误类别】为 "避障异常"
    3. 如果【报警描述】中包含 "定位"，此时生成的【错误类别】为 "定位丢失"
    4. 如果【报警描述】中包含 "任务"，此时生成的【错误类别】为 "任务执行失败"
    5. 反之，生成的【错误类别】为 "其他"

2. 为了同时支持按照字段一个一个提交和一次提交整个故障信息，我希望你在 【AGV 故障上报】页面，新增一个tab, 点击 tab 后切换到选中的tab，请你给两个tab分别取一个合适的名字。当用户一次输入整个故障信息时，后端服务按照步骤1中的规则，解析故障信息，然后插入故障信息到数据库

发现人员：席佳伟
时间：2025年10月30日16:39
车辆信息:111号车
报警描述：5号车送后盖上料，举升后一直报避障，不走车
解决办法：无
责任人： @梁海聪
---

很好，我继续问你问题：

1. 用户在【快速解析】提交后，页面回到了 【详细上报】tab, 如何保持在原有的 tab 页面，只有在用户手动点击另一个tab后，才会切换到另一个tab

---

很好，我继续问你问题：

1. 在 【故障统计报告】页面，统计结果是表格显示，为了使得显示结果更加丰富，是否可以在显示表格的同时，以柱状图显示同样的数据？
---


很好，我继续问你问题：

1. [故障统计报告] 页面显示的 "柱状图" 是不是有点宽了？最后一个柱子显示到了页面右边缘，看起来有点不舒服？有没有办法优化显示效果？
---

commit :
阶段提交，包含以下改动特性：

1. 在【故障上报】页面新增 【快速解析】上报：用于一次输入整个故障信息；原有的上报命名为【详细上报】，用于一个一个字段填写的上报
2. 在 【故障统计报告】页面新增 柱状图 显示统计结果

---

commit:
在【最近上报记录】中新增显示"发现人员"列
在【最近上报记录】中，限制按照故障发生时间显示最近的20条数据

---

很好，我继续问你问题，

1. 我在浏览器直接访问 http://120.24.252.217:5000/?tab=quick 此时，不会显示快速解析的界面，直接访问 http://120.24.252.217:5000/?tab=detailed 时，能正常显示 详细上报 的界面

请你根据 附加文件 分析问题原因


---
很好，到目前为止，你的所有答复都能解决我的问题。我太感谢你了。我继续问你问题：

1. 我们是否应该给提交请求做一点限制，例如，限制一个ip一分钟不能提交超过10个故障？或者其他的你认为应该添加的安全措施？

- 添加 "速率限制"
步骤 1: 安装 Flask-Limiter
pip3.9 install Flask-Limiter
---

很好，我继续问你问题，

1. 组长体验系统后，希望在【AGV 故障上报】页面只留下 【快速解析】。我的想法是直接隐藏 【详细上报】，打开主页(http://120.24.252.217:5000/)时，默认显示 【快速解析】就好了，这样改动会少些，你觉得呢？

---

很好，我继续问你问题，

1. 我想在 【故障统计报告】页面的【统计维度】中新增【解决状态】，以支持按照【解决状态】进行统计

请你根据附加的文件进行修改。
---
commit
    故障统计请求处理安全加固

---
很好，我继续问你问题，

1. [故障统计报告]页面显示的 *柱状图* 位于 【统计结果】下面的*列表*上面，我想的是 *柱状图*和*列表*是同一份数据的不同显示形式，他们都位于 【统计结果】头的下面是不是更好？
commit:
    优化显示效果：将图表和表格都放在“统计结果”标题下方，并让它们并排显示。

---

很好，我继续问你问题，

目前在 【AGV 故障上报】页面的【最近上报记录】显示最新的 20 条数据，假如1个月后，积累了300条数据，你觉得怎么显示这些数据好：

1. 显示最新的20条
2. 显示全部数据
3. 分页显示数据，例如，一页20条数据

select * from faults order by fault_time desc limit 4 offset 2; // offset 2 表示跳过前两条，从第三条开始显示

很好，我要采用你的 【选项 3：分页显示数据。】，请你提供详细的，分步骤的代码实现。
commit
    实现分页功能，以提升应用的可扩展性和用户体验。

---

很好，我继续问你问题，

1. 我们在分页显示数据时是固定一页显示20条数据，如果我想在【最近上报记录】页面提供一个选项支持指定一页的大小为 [10, 20, 50] 其中一个。你觉得这个方案怎么样？如果你觉得指定页的大小是一个好主意的话，请你提供详细的，分步骤的代码实现。
commit
    支持用户自己选择每页显示的数量。

---

很好，你简直太棒了，我继续问你问题，

1. 如果想看一个月中每天的问题数量，从而知道问题是否收敛。那么是不是在 【故障统计报告】的【统计维度】中加一个*故障发生时间*？或者你认为怎么做会更好？
commit
    在【故障统计报告】的【统计维度】中加一个*按天统计*，以支持按天的趋势分析。

---

很好，越来越接近完美啦，我继续问你问题，

1. 如果现场测试维护的人员想查询在过去一个月中，自己提交了多少故障，该怎么做？我们的系统是不是应该加一个搜索功能？我想的是这个搜索功能应该支持按照：发现人员，责任人，故障时间(天)，车辆编号，解决状态 字段的值作为搜索条件，你觉得呢？请你思考后，给出解决方案。

---

很好，我继续问你问题，

1. 程序的运行启动命令是：/usr/bin/python3.6 /usr/local/bin/gunicorn --workers 3 --bind 0.0.0.0:5000 app:app --daemon

2. 我想在前台运行程序时，把请求对应的 sql 命令打印到终端 (前台启动程序： python3.6 app.py), 以 1 中的方式启动时，不打印。有没有办法做到？

---

很好，我继续问你问题，

1. 能否将【筛选记录】 里面的多个筛选框放在一行显示？
2. 能否在*搜索开始时间*框和*结束时间框*添加一个 *-* 或者文字，一方便用户理解？

---


很好，我继续问你问题，

我在测试的时候发现一个问题：

1. 点击 【筛选记录】里面的 【搜索】，它不会取用 【最近上报记录】里面的【每页显示】
2. 点击 【最近上报记录】的下一页时，它也不会取用 【筛选记录】里面的 *筛选条件*

我有一个想法，可以解决这个问题，还可以使得用户使用更友好：

1. 去掉 【最近上报记录】，留下【筛选记录】，进入 【AGV 故障上报】时，此时请求的请求就跟原先的 【最近上报记录】一样，只是所有的筛选参数都为空
2. 分页查询都是基于当前 筛选条件的

你觉得怎么我的想法怎么样？如果可行的话，请给出详细的，分步骤的代码实现。

---

很好，我继续问你问题

我遇到了一个问题，我在 【故障记录查询】的【发现人员】框中输入 '席'，然后点击搜索，调试日志如下：
--- DEBUG SQL (Fetch Page Data) ---
Query: SELECT * FROM faults WHERE 1=1 AND reporter_name LIKE ? ORDER BY fault_time DESC LIMIT ? OFFSET ?
Params: ['%席%', 4, 0]

"GET /?search_reporter=席&search_responsible=&search_vehicle=&search_status=&search_start_date=&search_end_date=&per_page=4 HTTP/1.1" 200 -

此时sql是否符合预期的，我继续点击 【下一页】，此时日志如下:

--- DEBUG SQL (Fetch Page Data) ---
Query: SELECT * FROM faults WHERE 1=1 ORDER BY fault_time DESC LIMIT ? OFFSET ?
Params: [4, 4]
---------------------------------

113.84.193.188 - - [03/Nov/2025 17:14:23] "GET /?page=2&reporter=席&responsible=&vehicle=&status=&start_date=&end_date=&per_page=4 HTTP/1.1" 200 -

问题：

从sql日志来看，第二次请求的 per_page 和 page 参数的获取是对的，其他的搜索参数跟第一次的搜索参数不一样，例如：
第一次: search_reporter=席
第二次: reporter=席

请根据附加的文件分析问题原因，并解决。

---

很好，我继续问你问题

我在测试的时候发现2个问题：

1. 【故障记录查询】里面的 【每页显示】是分两行显示的，不美观，我想让他在一行显示
2. 在选择【每页显示】后，其他的筛选参数被清空了

请你认真分析代码然后解决。
commit
    新增搜索功能(故障记录查询): 支持按照 '发现人员'，'责任人'，'车辆编号', '解决状态'，'故障发生时间' 组合筛选。

# 请求分析

1. 直接访问主页：
http://120.24.252.217:5000/

请求路由到 app.py 里面的 index() 处理，走 request.method = GET 的逻辑，此时按照【故障发生时间】降序排序后，然后返回前20条数据

2. 详细上报
请求路由到 app.py 里面的 index() 处理，走 request.method = POST 的逻辑，插入提交数据到数据库，然后定时重定向到 http://120.24.252.217:5000/?tab=detailed

3. 在【最近上报记录】中选中一条记录，点击【编辑】，请求 http://120.24.252.217:5000/edit/47
请求路由到 app.py 里面的 edit_fault() 处理，走 request.method = GET 的逻辑，查询数据库，根据故障id筛选: SELECT * FROM faults WHERE id = fault_id, 然后根据 templates/edit.html 渲染

4. 在【编辑故障记录】更新【解决状态】和【处理记录】，然后提交，请求 http://120.24.252.217:5000/edit/47
请求路由到 app.py 里面的 edit_fault() 处理，走 request.method = POST 的逻辑，查询数据库，根据故障id更新db中的记录: UPDATE faults SET status = ?, resolution_log = ? WHERE id = ?', (status, resolution_log, fault_id), 然后302跳转到【AGV 故障上报页面】http://120.24.252.217:5000/

5. 快速解析，请求 120.24.252.217:5000/parse HTTP/1.1
请求路由到 app.py 里面的 parse_fault() 处理，调用 parse_fault_text() 解析原始输入数据，插入解析后的数据到数据库，然后定时重定向到 http://120.24.252.217:5000/?tab=quick (保持在原有的 tab 页)


返回首页
GET / HTTP/1.1
Host: 120.24.252.217:5000
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7
Accept-Encoding: gzip, deflate
Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
Referer: http://120.24.252.217:5000/statistics?start_date=&end_date=&group_by=responsible_person
Upgrade-Insecure-Requests: 1



1.【下载当前筛选范围的明细 (.csv)】
http://120.24.252.217:5000/statistics?start_date=&end_date=&group_by=responsible_person

2. 


# 服务试用

很好，现在我们的【AGV 故障填报和分析系统】已经可以使用了，我继续问你问题，

结合以下【背景】，【问题】，【解决方案】，【体验】以及系统具备的功能，请你写一个试用邀请，请组内同事积极使用该系统，对系统存在的问题提出改进意见，或者提出优化建议。

【背景】
我们组开发的 AGV 目前在工厂投入生成，但是 AGV 在运行过程中可能会发生一些问题，当前遇到问题时，现场的测试维护人员会上报故障信息，然后发到工作群，周末的时候组长会根据这一周的故障信息，统计汇总故障。

【问题】
1. 手动统计故障费时费力
2. 故障跟踪处理不方便

【解决方案】
开发一个"AGV 故障填报和分析系统"，支持：
1. 在线填报故障信息
2. 按照：错误类别，车号，发下人员，责任人，分类统计指定时间范围内的故障
3. 编辑指定故障，方便跟踪故障的处理过程
4. 统计结果能以表格，柱状图的形式展示

【体验】

1. 在浏览器(需要能联网，pc, 手机都可以)访问: http://120.24.252.217:5000

---

好的，没问题！结合我们一步步构建起来的这个强大工具，写一封引人入胜的试用邀请函，让同事们都积极参与进来，这绝对是项目成功推广的关键一步。

这是一份为你精心撰写的试用邀请，语气积极、信息清晰，希望能帮助你顺利推广这个系统。

---

## 邮件/消息标题： 🚀 试用邀请：全新“AGV故障填报与分析系统”正式上线，告别手动统计！

---

各位同事，大家好！

**【背景】**

目前，我们的AGV在工厂现场稳定运行，但日常的故障上报和处理流程存在一些痛点：现场同事将故障信息发到工作群，信息零散；组长在周末需要花费大量时间手动整理和统计，费时费力，同时故障的后续处理过程也不方便统一追踪。

**【我们的解决方案】**

为了解决这些问题，我利用业余时间开发了一套 **“AGV故障填报与分析系统”**，旨在将我们从繁琐的重复劳动中解放出来，更高效地管理和分析故障。

经过这段时间的开发和调试，系统现已具备以下核心功能：

1.  **在线便捷填报**：支持两种模式，既可以像填写表格一样**详细上报**，也支持现场同事直接粘贴故障信息，由系统**快速解析**并自动填入，极大提升上报效率！
2.  **强大统计分析**：可以按**错误类别、车号、责任人**等多个维度，筛选任意时间范围的故障数据，一键生成统计结果。
3.  **直观数据看板**：统计结果同时以**表格和柱状图**的形式展示，故障分布和趋势一目了然，为我们定位问题提供数据支持。
4.  **实时过程追踪**：可以随时**编辑**故障记录，更新其**解决状态**（如：待修复、处理中、已修复）和**处理记录**，方便所有人跟进问题从发生到解决的全过程。

**【诚邀试用，期待您的声音！】**

现在，我诚挚地邀请组内的每一位同事参与到这个系统的试用中来。

*   **系统访问地址**：
    [http://120.24.252.217:5000](http://120.24.252.217:5000)
    (PC端和手机端的浏览器均可访问，建议收藏)

*   **我们需要您的帮助**：
    从今天起，请大家（特别是现场的测试和维护同事）尝试**使用该系统来上报和跟进所有新的AGV故障**。

*   **请不吝赐教**：
    在使用过程中，如果你遇到任何问题（比如页面打不开、数据提交失败等），或者有任何**优化建议**（比如“这个按钮不好用”、“希望增加XX功能”、“这个图表颜色不好看”等等），请随时在工作群里 **@我** 提出。

你们的每一个反馈都是系统不断完善、变得更好用的宝贵动力。让我们一起努力，用技术为自己的工作提效！

非常感谢大家的支持！

祝好，

聂金词
---

对外：

各位同事，大家好！

【背景】

目前，我们的AGV在工厂现场稳定运行，但日常的故障上报和处理流程存在一些痛点：

1. 现场同事将故障信息发到工作群，信息零散

2. 组长在周末需要花费大量时间手动整理和统计，费时费力

3. 同时故障的后续处理过程也不方便统一追踪

【我们的解决方案】

为了解决这些问题，我们开发了一个 “AGV故障填报与分析系统”，旨在将我们从繁琐的重复劳动中解放出来，更高效地管理和分析故障。

目前系统现已具备以下核心功能：

1.  *在线便捷填报*：支持两种模式，既可以像填写表格一样*详细上报*，也支持现场同事直接粘贴故障信息，由系统*快速解析*并自动填入，极大提升上报效率！

2.  *强大统计分析*：可以按*错误类别、车号、责任人*，*发现人员*等多个维度，筛选任意时间范围的故障数据，一键生成统计结果。

3.  *直观数据看板*：统计结果同时以*表格和柱状图*的形式展示，故障分布和趋势一目了然，为我们定位问题提供数据支持。

4.  *实时过程追踪*：可以随时*编辑*故障记录，更新其*解决状态*（如：待修复、处理中、已修复）和*处理记录*，方便所有人跟进问题从发生到解决的全过程。

【诚邀试用，期待您的声音！】

现在，我诚挚地邀请组内的每一位同事参与到这个系统的试用中来。

*   系统访问地址：
    http://120.24.252.217:5000
    (PC端和手机端的浏览器均可访问，pc要联网)

*   我们需要您的帮助：
    从今天起，请大家（特别是现场的测试和维护同事）尝试*使用该系统来上报和跟进所有新的AGV故障*。

*   请不吝赐教：
    在使用过程中，如果你遇到任何问题（比如页面打不开、数据提交失败等），或者有任何*优化建议*（比如“这个按钮不好用”、“希望增加XX功能”、“这个图表颜色不好看”等等），请随时在工作群里 *@我* 提出。

你们的每一个反馈都是系统不断完善、变得更好用的宝贵动力。让我们一起努力，用技术为自己的工作提效！

非常感谢大家的支持！

祝好。

## 使用问题

很好，我继续问你问题，

1. 同事提交以下故障信息：
    发现人员：席佳伟
    时间：2025年10月31日14:59
    车辆信息：9号车和12号车
    报警描述：后盖下料区，9号上空框，12号返满，相互路线干涉锁死，小车停止。
    解决办法:  抱闸移入库位，解锁路线。
    责任人： @廖其塘 @谭兴浪

    提交完成后，在【最近上报记录】里面看到的记录中的【责任人】是数字，然后又重新提交了一次，第二次提交的【责任人】显示正常。我在服务器后台数据库查到信息如下：

    select * from faults where reporter_name = '席佳伟';
    id|reporter_name|fault_time|vehicle_id|category|status|description|solution|resolution_log|responsible_person|created_at
    54|席佳伟|2025-10-31 14:59:00|9号车和12号车|其他|待修复|后盖下料区，9号上空框，12号返满，相互路线干涉锁死，小车停止。|抱闸移入库位，解锁路线。||￳1688857952505721￰￳1688856637705336￰|2025-10-31 07:04:07
    55|席佳伟|2025-10-31 14:59:00|9号车和12号车|其他|待修复|后盖下料区，9号上空框，12号返满，相互路线干涉锁死，小车停止。|抱闸移入库位，解锁路线。||廖其塘 @谭兴浪|2025-10-31 07:05:55
    sqlite>

    请分析第一次提交时，【责任人】不正确的问题。

---


sqlite3 表中的字段：created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP        -- 记录创建时间

例如：2025-10-30 09:23:04

我想用条件 created_at < '2025-10-30 22:00:00' 来删除表中数据。

select * from faults where created_at < '2025-10-31 00:00:00';